{
  "version": 3,
  "sources": ["../../../build/Checks/samepercentCheck.js"],
  "sourcesContent": ["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SamePercentCheck = void 0;\nconst winston_1 = __importDefault(require(\"winston\"));\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst restartHandler_1 = require(\"../functions/handler/restartHandler\");\nlet PercentChecker = false;\nlet LastPercentArray = [];\nlet CurrentPercentArray = [];\nlet SamePercent = 0;\nfunction SamePercentCheck(CurrentDrop) {\n    return __awaiter(this, void 0, void 0, function* () {\n        CurrentPercentArray = [];\n        CurrentDrop.timebasedrop.forEach(timedrop => {\n            CurrentPercentArray.push(timedrop.self.currentMinutesWatched);\n        });\n        if (!PercentChecker) {\n            CurrentDrop.timebasedrop.forEach(timedrop => {\n                LastPercentArray.push(timedrop.self.currentMinutesWatched);\n            });\n            PercentChecker = true;\n        }\n        else if (PercentChecker) {\n            if (JSON.stringify(LastPercentArray) === JSON.stringify(CurrentPercentArray)) {\n                SamePercent++;\n            }\n            else if (JSON.stringify(LastPercentArray) !== JSON.stringify(CurrentPercentArray)) {\n                LastPercentArray = CurrentPercentArray;\n                SamePercent = 0;\n            }\n            if (SamePercent === 4) {\n                SamePercent = 0;\n                PercentChecker = false;\n                LastPercentArray = [];\n                CurrentPercentArray = [];\n                winston_1.default.silly(\" \");\n                winston_1.default.info(chalk_1.default.yellow('All Drops have the same percentage for at least 4 tries... Looking for new Drops...'), { event: \"newDrop\" });\n                yield (0, restartHandler_1.restartHandler)(true, true, true, true, false);\n            }\n        }\n    });\n}\nexports.SamePercentCheck = SamePercentCheck;\n"],
  "mappings": ";AACA,IAAI,YAAa,WAAQ,QAAK,aAAc,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,iBAAe,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ;AAAA;AAAA;AAC/F,SAAO,IAAK,MAAM,KAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,uBAAmB,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK;AAAA,eAAkB,GAAP;AAAY,eAAO;AAAA;AAAA;AACpF,sBAAkB,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,SAAS;AAAA,eAAkB,GAAP;AAAY,eAAO;AAAA;AAAA;AACvF,kBAAc,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,SAAS,MAAM,OAAO,OAAO,KAAK,WAAW;AAAA;AAClG,SAAM,aAAY,UAAU,MAAM,SAAS,cAAc,KAAK;AAAA;AAAA;AAGtE,IAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,SAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW;AAAA;AAExD,OAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,QAAQ,mBAAmB;AAC3B,MAAM,YAAY,gBAAgB,QAAQ;AAC1C,MAAM,UAAU,gBAAgB,QAAQ;AACxC,MAAM,mBAAmB,QAAQ;AACjC,IAAI,iBAAiB;AACrB,IAAI,mBAAmB;AACvB,IAAI,sBAAsB;AAC1B,IAAI,cAAc;AAClB,0BAA0B,aAAa;AACnC,SAAO,UAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,0BAAsB;AACtB,gBAAY,aAAa,QAAQ,cAAY;AACzC,0BAAoB,KAAK,SAAS,KAAK;AAAA;AAE3C,QAAI,CAAC,gBAAgB;AACjB,kBAAY,aAAa,QAAQ,cAAY;AACzC,yBAAiB,KAAK,SAAS,KAAK;AAAA;AAExC,uBAAiB;AAAA,eAEZ,gBAAgB;AACrB,UAAI,KAAK,UAAU,sBAAsB,KAAK,UAAU,sBAAsB;AAC1E;AAAA,iBAEK,KAAK,UAAU,sBAAsB,KAAK,UAAU,sBAAsB;AAC/E,2BAAmB;AACnB,sBAAc;AAAA;AAElB,UAAI,gBAAgB,GAAG;AACnB,sBAAc;AACd,yBAAiB;AACjB,2BAAmB;AACnB,8BAAsB;AACtB,kBAAU,QAAQ,MAAM;AACxB,kBAAU,QAAQ,KAAK,QAAQ,QAAQ,OAAO,wFAAwF,EAAE,OAAO;AAC/I,cAAO,IAAG,iBAAiB,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAKnF,QAAQ,mBAAmB;",
  "names": []
}
