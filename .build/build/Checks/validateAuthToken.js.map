{
  "version": 3,
  "sources": ["../../../build/Checks/validateAuthToken.js"],
  "sourcesContent": ["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAuthToken = void 0;\nconst index_1 = require(\"../index\");\nconst axios_1 = __importDefault(require(\"axios\"));\nconst winston_1 = __importDefault(require(\"winston\"));\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst util_1 = require(\"../utils/util\");\nfunction validateAuthToken() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let auth = 'OAuth ' + index_1.userdata.auth_token;\n        let head = {\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:98.0) Gecko/20100101 Firefox/98.0',\n            Authorization: auth\n        };\n        yield axios_1.default.get('https://id.twitch.tv/oauth2/validate', { headers: head, raxConfig: util_1.retryConfig })\n            .then(function (response) {\n            let response_data = response.data;\n            index_1.userdata.userid = response_data.user_id;\n            index_1.userdata.clientid = response_data.client_id;\n            if (index_1.userdata.showtoken)\n                winston_1.default.info(chalk_1.default.yellow('Warning: Your Token is revealed, please only reveal if necessary...'));\n            if (index_1.userdata.showtoken)\n                winston_1.default.info(chalk_1.default.yellow('Your Auth Token: ' + chalk_1.default.white(index_1.userdata.auth_token)));\n        })\n            .catch(function (error) {\n            winston_1.default.error(chalk_1.default.red('ERROR: Could not validate your auth token...'));\n            throw error.response.status + ' ' + error.response.statusText + ' ' + error.response.data.message;\n        });\n    });\n}\nexports.validateAuthToken = validateAuthToken;\n"],
  "mappings": ";AACA,IAAI,YAAa,WAAQ,QAAK,aAAc,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,iBAAe,OAAO;AAAE,WAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,cAAQ;AAAA;AAAA;AAC/F,SAAO,IAAK,MAAM,KAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,uBAAmB,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,KAAK;AAAA,eAAkB,GAAP;AAAY,eAAO;AAAA;AAAA;AACpF,sBAAkB,OAAO;AAAE,UAAI;AAAE,aAAK,UAAU,SAAS;AAAA,eAAkB,GAAP;AAAY,eAAO;AAAA;AAAA;AACvF,kBAAc,QAAQ;AAAE,aAAO,OAAO,QAAQ,OAAO,SAAS,MAAM,OAAO,OAAO,KAAK,WAAW;AAAA;AAClG,SAAM,aAAY,UAAU,MAAM,SAAS,cAAc,KAAK;AAAA;AAAA;AAGtE,IAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,SAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW;AAAA;AAExD,OAAO,eAAe,SAAS,cAAc,EAAE,OAAO;AACtD,QAAQ,oBAAoB;AAC5B,MAAM,UAAU,QAAQ;AACxB,MAAM,UAAU,gBAAgB,QAAQ;AACxC,MAAM,YAAY,gBAAgB,QAAQ;AAC1C,MAAM,UAAU,gBAAgB,QAAQ;AACxC,MAAM,SAAS,QAAQ;AACvB,6BAA6B;AACzB,SAAO,UAAU,MAAM,QAAQ,QAAQ,aAAa;AAChD,QAAI,OAAO,WAAW,QAAQ,SAAS;AACvC,QAAI,OAAO;AAAA,MACP,cAAc;AAAA,MACd,eAAe;AAAA;AAEnB,UAAM,QAAQ,QAAQ,IAAI,wCAAwC,EAAE,SAAS,MAAM,WAAW,OAAO,eAChG,KAAK,SAAU,UAAU;AAC1B,UAAI,gBAAgB,SAAS;AAC7B,cAAQ,SAAS,SAAS,cAAc;AACxC,cAAQ,SAAS,WAAW,cAAc;AAC1C,UAAI,QAAQ,SAAS;AACjB,kBAAU,QAAQ,KAAK,QAAQ,QAAQ,OAAO;AAClD,UAAI,QAAQ,SAAS;AACjB,kBAAU,QAAQ,KAAK,QAAQ,QAAQ,OAAO,sBAAsB,QAAQ,QAAQ,MAAM,QAAQ,SAAS;AAAA,OAE9G,MAAM,SAAU,OAAO;AACxB,gBAAU,QAAQ,MAAM,QAAQ,QAAQ,IAAI;AAC5C,YAAM,MAAM,SAAS,SAAS,MAAM,MAAM,SAAS,aAAa,MAAM,MAAM,SAAS,KAAK;AAAA;AAAA;AAAA;AAItG,QAAQ,oBAAoB;",
  "names": []
}
