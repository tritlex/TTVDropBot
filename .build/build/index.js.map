{
  "version": 3,
  "sources": ["../../build/index.js"],
  "sourcesContent": ["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.userdata = exports.version = void 0;\nexports.version = \"2.0.0.4\";\nconst userdata_1 = require(\"./Data/userdata\");\nexports.userdata = new userdata_1.userdataclass();\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst versionCheck_1 = __importDefault(require(\"./Checks/versionCheck\"));\nconst getSettings_1 = __importStar(require(\"./functions/get/getSettings\"));\nconst getWatchOption_1 = __importDefault(require(\"./functions/get/getWatchOption\"));\nconst getTwitchDrops_1 = require(\"./functions/get/getTwitchDrops\");\nconst startWatching_1 = require(\"./functions/startWatching\");\nconst defaultlogin_1 = require(\"./functions/login/defaultlogin\");\nconst fs_1 = __importDefault(require(\"fs\"));\nconst getCustomChannel_1 = require(\"./functions/get/getCustomChannel\");\nconst custompageHandler_1 = require(\"./functions/handler/custompageHandler\");\nconst validateAuthToken_1 = require(\"./Checks/validateAuthToken\");\nconst getArgs_1 = require(\"./functions/get/getArgs\");\nconst rax = __importStar(require(\"retry-axios\"));\nconst util_1 = require(\"./utils/util\");\nconst winston = require('winston');\nconst TwitchGQL = require(\"@zaarrg/twitch-gql-ttvdropbot\").Init();\n(() => __awaiter(void 0, void 0, void 0, function* () {\n    //Get Settings\n    yield (0, getArgs_1.setArgs)();\n    yield (0, getSettings_1.default)();\n    yield (0, getArgs_1.matchArgs)();\n    yield setRetries();\n    yield (0, getSettings_1.logimportantvalues)();\n    yield (0, versionCheck_1.default)(exports.version);\n    //Http Keep Alive\n    if (exports.userdata.settings.UseKeepAlive)\n        keepAlive();\n    //Login\n    yield (0, defaultlogin_1.login)();\n    //Validate\n    yield (0, validateAuthToken_1.validateAuthToken)();\n    //Get Watch Option\n    if (!exports.userdata.settings.displayless) {\n        yield (0, getWatchOption_1.default)();\n        yield watchoptionSwitch();\n    }\n    else {\n        if (exports.userdata.settings.ForceCustomChannel) {\n            if (fs_1.default.existsSync('./CustomChannels.json')) {\n                exports.userdata.watch_option = 'Custom Channels';\n            }\n            else {\n                winston.warn(chalk_1.default.yellow('Cant force custom channels without a CustomChannels.json'));\n                exports.userdata.watch_option = 'Twitch Drops';\n            }\n        }\n        else {\n            exports.userdata.watch_option = 'Twitch Drops';\n        }\n        yield watchoptionSwitch();\n    }\n    winston.info(chalk_1.default.gray('Idle!'));\n}))();\nfunction watchoptionSwitch() {\n    return __awaiter(this, void 0, void 0, function* () {\n        switch (exports.userdata.watch_option) {\n            case \"Twitch Drops\":\n                //What Twitch Drops\n                yield (0, getTwitchDrops_1.askWhatGameToWatch)(false);\n                //Get The Drops of the Game\n                yield (0, getTwitchDrops_1.getTwitchDrops)(exports.userdata.game, true);\n                if (exports.userdata.settings.displayless) {\n                    yield (0, getTwitchDrops_1.askWhatDropToStart)(true, true, true, false);\n                }\n                else {\n                    yield (0, getTwitchDrops_1.askWhatDropToStart)(false, true, true, false);\n                }\n                yield (0, startWatching_1.startWatching)();\n                break;\n            case \"Custom Channels\":\n                yield (0, getCustomChannel_1.getCustomChannel)();\n                yield (0, custompageHandler_1.CustomEventHandlerStart)(exports.userdata.startDrop);\n                break;\n        }\n    });\n}\nfunction setRetries() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield TwitchGQL.SetRetryTimeout(exports.userdata.settings.RetryDelay).then(() => {\n            util_1.retryConfig.retryDelay = exports.userdata.settings.RetryDelay;\n            rax.attach();\n        });\n    });\n}\nfunction keepAlive(port = process.env.PORT) {\n    const express = require('express');\n    const app = express();\n    app.get(\"/\", (req, res) => res.send(\"TwitchDropBot is alive\"));\n    app.listen(port, () => winston.info(`App listening on port ${port || 0}`));\n}\n"],
  "mappings": "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",
  "names": []
}
