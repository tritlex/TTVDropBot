{
  "version": 3,
  "sources": ["../../../src/Checks/dateCheck.ts"],
  "sourcesContent": ["import winston from \"winston\";\nimport chalk from \"chalk\";\nimport {Drop} from \"../functions/get/getCurrentDrop\";\nimport {restartHandler} from \"../functions/handler/restartHandler\";\n\n\n\nexport async function dateCheck(CurrentDrop: Drop, onlymatch: boolean) {\n\n\n    for (const [i, drop] of CurrentDrop.timebasedrop.entries()) {\n\n        let currentDate = new Date().toISOString();\n        let endDate = new Date(drop.endAt).toISOString();\n        let startDate = new Date(drop.startAt).toISOString();\n\n        let dropslenght = CurrentDrop.timebasedrop.length\n        let noworkingamount = 0;\n\n\n        if (currentDate >= endDate) {\n            drop.self[\"status\"] = 'Ended'\n            noworkingamount++\n        }\n        if (currentDate <= startDate) {\n            drop.self[\"status\"] = 'Not Active'\n            noworkingamount++\n        }\n        if (currentDate > startDate && currentDate < endDate) {\n            drop.self[\"status\"] = 'Active'\n        }\n\n        if (noworkingamount === dropslenght && !onlymatch) {\n            winston.silly(\" \")\n            winston.info(chalk.yellow('All Drops are stopped or nonActive at the moment... Looking for new ones...'), {event: \"newDrop\"})\n            await restartHandler(true, true, true, true, false)\n        }\n\n    }\n\n\n}\n\n\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA,qBAAoB;AACpB,mBAAkB;AAElB,4BAA6B;AAI7B,yBAAgC,aAAmB,WAAoB;AAGnE,aAAW,CAAC,GAAG,SAAS,YAAY,aAAa,WAAW;AAExD,QAAI,cAAc,IAAI,OAAO;AAC7B,QAAI,UAAU,IAAI,KAAK,KAAK,OAAO;AACnC,QAAI,YAAY,IAAI,KAAK,KAAK,SAAS;AAEvC,QAAI,cAAc,YAAY,aAAa;AAC3C,QAAI,kBAAkB;AAGtB,QAAI,eAAe,SAAS;AACxB,WAAK,KAAK,YAAY;AACtB;AAAA;AAEJ,QAAI,eAAe,WAAW;AAC1B,WAAK,KAAK,YAAY;AACtB;AAAA;AAEJ,QAAI,cAAc,aAAa,cAAc,SAAS;AAClD,WAAK,KAAK,YAAY;AAAA;AAG1B,QAAI,oBAAoB,eAAe,CAAC,WAAW;AAC/C,6BAAQ,MAAM;AACd,6BAAQ,KAAK,qBAAM,OAAO,gFAAgF,EAAC,OAAO;AAClH,YAAM,0CAAe,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA;AAAA;",
  "names": []
}
