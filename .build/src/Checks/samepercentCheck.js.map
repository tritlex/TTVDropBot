{
  "version": 3,
  "sources": ["../../../src/Checks/samepercentCheck.ts"],
  "sourcesContent": ["import {Drop} from \"../functions/get/getCurrentDrop\";\nimport winston from \"winston\";\nimport chalk from \"chalk\";\nimport {restartHandler} from \"../functions/handler/restartHandler\";\n\nlet PercentChecker = false;\nlet LastPercentArray: Array<number> = [];\nlet CurrentPercentArray: Array<number> = [];\nlet SamePercent = 0;\n\nexport async function SamePercentCheck(CurrentDrop: Drop) {\n    CurrentPercentArray = []\n    CurrentDrop.timebasedrop.forEach(timedrop => {\n        CurrentPercentArray.push(timedrop.self.currentMinutesWatched)\n    })\n\n    if (!PercentChecker) {\n        CurrentDrop.timebasedrop.forEach(timedrop => {\n            LastPercentArray.push(timedrop.self.currentMinutesWatched)\n        })\n        PercentChecker = true;\n    } else if (PercentChecker) {\n        if (JSON.stringify(LastPercentArray) === JSON.stringify(CurrentPercentArray)) {\n            SamePercent++;\n        } else if (JSON.stringify(LastPercentArray) !== JSON.stringify(CurrentPercentArray)) {\n            LastPercentArray = CurrentPercentArray;\n            SamePercent = 0;\n        }\n        if (SamePercent === 4) {\n            SamePercent = 0;\n            PercentChecker = false;\n            LastPercentArray = [];\n            CurrentPercentArray = [];\n            winston.silly(\" \")\n            winston.info(chalk.yellow('All Drops have the same percentage for at least 4 tries... Looking for new Drops...'),{event: \"newDrop\"})\n            await restartHandler(true, true, true, true, false)\n        }\n    }\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AACA,qBAAoB;AACpB,mBAAkB;AAClB,4BAA6B;AAE7B,IAAI,iBAAiB;AACrB,IAAI,mBAAkC;AACtC,IAAI,sBAAqC;AACzC,IAAI,cAAc;AAElB,gCAAuC,aAAmB;AACtD,wBAAsB;AACtB,cAAY,aAAa,QAAQ,cAAY;AACzC,wBAAoB,KAAK,SAAS,KAAK;AAAA;AAG3C,MAAI,CAAC,gBAAgB;AACjB,gBAAY,aAAa,QAAQ,cAAY;AACzC,uBAAiB,KAAK,SAAS,KAAK;AAAA;AAExC,qBAAiB;AAAA,aACV,gBAAgB;AACvB,QAAI,KAAK,UAAU,sBAAsB,KAAK,UAAU,sBAAsB;AAC1E;AAAA,eACO,KAAK,UAAU,sBAAsB,KAAK,UAAU,sBAAsB;AACjF,yBAAmB;AACnB,oBAAc;AAAA;AAElB,QAAI,gBAAgB,GAAG;AACnB,oBAAc;AACd,uBAAiB;AACjB,yBAAmB;AACnB,4BAAsB;AACtB,6BAAQ,MAAM;AACd,6BAAQ,KAAK,qBAAM,OAAO,wFAAuF,EAAC,OAAO;AACzH,YAAM,0CAAe,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA;AAAA;",
  "names": []
}
